<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>CORS example</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div>
            <script>

                tryURL("http://ip.jsontest.com/?alloworigin=false");
                tryURL("http://ip.jsontest.com/");
                tryURL("websen.eu/ca1/api/zip/all");

                function tryURL(url) {
                    fetch(url, {method: "get"})
                            .then(function (response)
                            {
                                if (!response.ok)
                                {
                                    throw(error);
                                }
                                return response.json();
                            })
                            .then(function (json)
                            {
                                alert("Get Okay" + url);
                            })
                            .catch(function (json) {
                                alert("Get failed" + url);
                            });
                };
            </script>
        </div>
    </body>
</html>
